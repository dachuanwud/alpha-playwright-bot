# Alpha è‡ªåŠ¨åŒ–åˆ·å•åŸç†è¯¦è§£

## ğŸ“‹ ç›®å½•
1. [æ ¸å¿ƒåŸç†](#æ ¸å¿ƒåŸç†)
2. [ä¸»å¾ªç¯æµç¨‹](#ä¸»å¾ªç¯æµç¨‹)
3. [ä»·æ ¼ç­–ç•¥](#ä»·æ ¼ç­–ç•¥)
4. [åå‘è®¢å•æœºåˆ¶](#åå‘è®¢å•æœºåˆ¶)
5. [è®¢å•ç®¡ç†](#è®¢å•ç®¡ç†)
6. [ä½™é¢ç®¡ç†](#ä½™é¢ç®¡ç†)
7. [å®Œæ•´äº¤æ˜“é“¾](#å®Œæ•´äº¤æ˜“é“¾)

---

## ğŸ¯ æ ¸å¿ƒåŸç†

### åŸºæœ¬æ€è·¯
é€šè¿‡**é«˜é¢‘ä¹°å–**åŒä¸€å¸ç§ï¼Œåˆ©ç”¨**åå‘è®¢å•**å½¢æˆè‡ªåŠ¨å¾ªç¯äº¤æ˜“é“¾ï¼Œåœ¨ä»·æ ¼æ³¢åŠ¨ä¸­è·å–å¾®å°ä»·å·®ï¼Œå®ç°**ä½ç£¨æŸ**çš„è‡ªåŠ¨åŒ–äº¤æ˜“ã€‚

### å…³é”®ç‰¹æ€§
- âœ… **ä¹°å…¥åå‘è®¢å•**ï¼šä¹°å…¥åè‡ªåŠ¨æŒ‚å–å•ï¼Œå½¢æˆè‡ªåŠ¨å¾ªç¯
- âœ… **å–å‡ºç®€å•æ¸…ä»“**ï¼šå–å‡ºæ—¶ä¸æŒ‚åå‘è®¢å•ï¼Œé¿å…è®¢å•æ··ä¹±
- âœ… **ä»·æ ¼ä¸Šæµ®ç­–ç•¥**ï¼šä¹°å–éƒ½ç•¥é«˜äºå¸‚ä»·ï¼Œç­‰å¾…å¸‚åœºä¸Šæ¶¨æˆäº¤
- âœ… **è‡ªåŠ¨è®¢å•ç®¡ç†**ï¼šè¶…æ—¶æœªæˆäº¤è‡ªåŠ¨å–æ¶ˆï¼Œé¿å…èµ„é‡‘å ç”¨
- âœ… **ä½™é¢æ™ºèƒ½ç®¡ç†**ï¼šä½™é¢ä¸è¶³æ—¶ç­‰å¾…å–å•æˆäº¤æˆ–å–æ¶ˆæŒ‚å•

---

## ğŸ”„ ä¸»å¾ªç¯æµç¨‹

```
å¯åŠ¨ â†’ è¿æ¥æµè§ˆå™¨ â†’ ä¸»å¾ªç¯
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸»å¾ªç¯ (while True)                â”‚
â”‚                                     â”‚
â”‚  1. å®šæœŸåˆ·æ–°é¡µé¢ (æ¯5æ¬¡å¾ªç¯)        â”‚
â”‚  2. åŠ è½½é¡µé¢æ•°æ® (è·å–å½“å‰ä»·æ ¼)     â”‚
â”‚  3. æ‰§è¡Œå–å‡ºæ“ä½œ                    â”‚
â”‚  4. å–æ¶ˆæœªæˆäº¤è®¢å•                  â”‚
â”‚  5. æ‰§è¡Œä¹°å…¥æ“ä½œ                    â”‚
â”‚  6. æ£€æŸ¥æ˜¯å¦å®Œæˆ (è¾¾åˆ°æ€»æ¬¡æ•°)        â”‚
â”‚  7. ä¼‘çœ ç­‰å¾… (5-10ç§’éšæœº)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä»£ç ä½ç½®
```python
# main_new.py:151-210
def _main_loop(self) -> None:
    while True:
        # 1. å®šæœŸåˆ·æ–°
        if self.loop_count % self.config.interval.refresh_interval == 0:
            self._refresh_page("å®šæœŸåˆ·æ–°é¡µé¢")
        
        # 2. åŠ è½½æ•°æ®
        if not self._load_page_data():
            continue
        
        # 3. æ‰§è¡Œå–å‡º
        if not self._execute_sell():
            continue
        
        # 4. å–æ¶ˆæœªæˆäº¤è®¢å•
        self.trade_count = self._cancel_orders()
        
        # 5. æ‰§è¡Œä¹°å…¥
        buy_success = self._execute_buy()
        
        # 6. æ£€æŸ¥å®Œæˆ
        if self.trade_count >= self.config.trade.total_runs:
            break
```

---

## ğŸ’° ä»·æ ¼ç­–ç•¥

### é…ç½®å‚æ•°
```python
# config.py:58-63
buy_price_percent = 1.0002  # ä¹°å…¥ä»·ä¸Šæµ® 0.02%
sell_price_percent = 0.9998  # åå‘å–ä»·ä¸‹è°ƒ 0.02%
```

### ä»·æ ¼è®¡ç®—

#### ä¹°å…¥æ—¶
```python
å½“å‰ä»· = 0.075000
ä¹°ä»· = å½“å‰ä»· Ã— 1.0002 = 0.075015  # ä¸Šæµ® 0.02%
åå‘å–ä»· = ä¹°ä»· Ã— 0.9998 = 0.075000  # ä¸‹è°ƒ 0.02%
```

#### å–å‡ºæ—¶
```python
å½“å‰ä»· = 0.075000
å–ä»· = å½“å‰ä»· Ã— 1.0002 = 0.075015  # ä¸Šæµ® 0.02%
åå‘ä¹°ä»· = å–ä»· Ã— 0.9998 = 0.075000  # ä¸‹è°ƒ 0.02%
```

### ç­–ç•¥ä¼˜åŠ¿
- **ä¹°å…¥ä¸Šæµ®**ï¼šç•¥é«˜äºå¸‚ä»·ï¼Œç¡®ä¿å¿«é€Ÿæˆäº¤
- **å–å‡ºä¸Šæµ®**ï¼šç­‰å¾…å¸‚åœºä¸Šæ¶¨ï¼Œå‡å°‘äºæŸ
- **åå‘è®¢å•ä¸‹è°ƒ**ï¼šæˆäº¤åè‡ªåŠ¨æŒ‚åå‘å•ï¼Œå½¢æˆå¾ªç¯

---

## ğŸ” åå‘è®¢å•æœºåˆ¶

### ä»€ä¹ˆæ˜¯åå‘è®¢å•ï¼Ÿ
åå‘è®¢å•æ˜¯ Binance çš„ä¸€ä¸ªåŠŸèƒ½ï¼š**å½“å‰è®¢å•æˆäº¤åï¼Œè‡ªåŠ¨æäº¤ä¸€ä¸ªåå‘è®¢å•**ã€‚

### ä¹°å…¥æ—¶çš„åå‘è®¢å•
```python
# main_new.py:447-470
# 1. å‹¾é€‰åå‘è®¢å•å¤é€‰æ¡†
self.browser.toggle_checkbox(self.CSS["checkbox"], should_check=True)

# 2. å¡«å†™ä¹°å…¥ä»·æ ¼
buy_price = å½“å‰ä»· Ã— 1.0002

# 3. å¡«å†™åå‘å–å‡ºä»·æ ¼
reverse_sell_price = buy_price Ã— 0.9998

# ç»“æœï¼šä¹°å…¥æˆäº¤åï¼Œè‡ªåŠ¨æŒ‚å–å•
```

### å–å‡ºæ—¶ï¼ˆä¸ä½¿ç”¨åå‘è®¢å•ï¼‰
```python
# main_new.py:280-291
# å–å‡ºæ˜¯ç®€å•çš„æ¸…ä»“æ“ä½œï¼Œä¸æŒ‚åå‘è®¢å•
# è¿™æ ·é¿å…äº†åŒå‘æŒ‚å•é€ æˆçš„è®¢å•æ··ä¹±

# 1. å–æ¶ˆå‹¾é€‰åå‘è®¢å•å¤é€‰æ¡†
self.browser.toggle_checkbox(self.CSS["checkbox"], should_check=False)

# 2. å¡«å†™å–å‡ºä»·æ ¼ï¼ˆä¸Šæµ®ï¼Œç­‰å¾…æˆäº¤ï¼‰
sell_price = å½“å‰ä»· Ã— 1.0002

# ç»“æœï¼šç®€å•å–å‡ºï¼Œä¸è‡ªåŠ¨æŒ‚ä¹°å•
```

### ä¸ºä»€ä¹ˆå–å‡ºä¸æŒ‚åå‘è®¢å•ï¼Ÿ
- **é¿å…è®¢å•æ··ä¹±**ï¼šå¦‚æœä¹°å–éƒ½æŒ‚åå‘è®¢å•ï¼Œä¼šäº§ç”Ÿå¤§é‡æŒ‚å•
- **é€»è¾‘æ¸…æ™°**ï¼šä¹°å…¥è´Ÿè´£æŒ‚åå‘å–å•ï¼Œå–å‡ºè´Ÿè´£æ¸…ä»“
- **èµ„é‡‘ç®¡ç†**ï¼šé¿å…è¿‡å¤šæŒ‚å•å ç”¨èµ„é‡‘

### åå‘è®¢å•çš„ä¼˜åŠ¿
1. **è‡ªåŠ¨åŒ–å¾ªç¯**ï¼šæ— éœ€æ‰‹åŠ¨æ“ä½œï¼Œè‡ªåŠ¨å½¢æˆä¹°å–å¾ªç¯
2. **å‡å°‘ç£¨æŸ**ï¼šé€šè¿‡ä»·æ ¼ç­–ç•¥ï¼Œå®ç°æ¥è¿‘é›¶ç£¨æŸ
3. **æé«˜æ•ˆç‡**ï¼šä¸€æ¬¡æ“ä½œå®Œæˆä¸¤ä¸ªè®¢å•

---

## ğŸ“Š å®Œæ•´äº¤æ˜“é“¾

### ç†æƒ³æƒ…å†µä¸‹çš„å®Œæ•´å¾ªç¯

```
ç¬¬1æ¬¡å¾ªç¯ï¼š
  1. å–å‡ºï¼ˆå¦‚æœæœ‰æŒä»“ï¼‰: ç®€å•æ¸…ä»“ï¼Œä¸æŒ‚åå‘è®¢å•
  2. å–æ¶ˆæœªæˆäº¤çš„æ—§è®¢å•
  3. ä¹°å…¥: 0.075000 Ã— 1.0002 = 0.075015 âœ… æˆäº¤
      â†“ è‡ªåŠ¨æŒ‚åå‘å–å•
  åå‘å–å•: 0.075015 Ã— 0.9998 = 0.075000 â³ ç­‰å¾…æˆäº¤

ç¬¬2æ¬¡å¾ªç¯ï¼š
  1. å–å‡ºï¼ˆå¦‚æœæœ‰æŒä»“ï¼‰: ç®€å•æ¸…ä»“
  2. å–æ¶ˆæœªæˆäº¤è®¢å•ï¼ˆå¦‚æœåå‘å–å•æœªæˆäº¤åˆ™å–æ¶ˆï¼‰
  3. ä¹°å…¥: 0.075000 Ã— 1.0002 = 0.075015 âœ… æˆäº¤
      â†“ è‡ªåŠ¨æŒ‚åå‘å–å•
  ... å¾ªç¯ç»§ç»­
```

### æ ¸å¿ƒæµç¨‹å›¾
```
ä¹°å…¥ â†’ æŒ‚åå‘å–å• â†’ å–å•æˆäº¤/å–æ¶ˆ â†’ å†ä¹°å…¥ â†’ æŒ‚åå‘å–å•...
```

### ç£¨æŸåˆ†æ

| æ“ä½œ | ä»·æ ¼ | ç£¨æŸ |
|------|------|------|
| ä¹°å…¥ | +0.02% | +0.02% |
| åå‘å–å‡º | -0.02% | -0.02% |
| **å•æ¬¡å¾ªç¯** | | **~0%** |

**æ³¨æ„**ï¼šå®é™…ç£¨æŸå–å†³äºå¸‚åœºæ³¢åŠ¨å’Œæˆäº¤æ—¶æœºã€‚

---

## ğŸ—‘ï¸ è®¢å•ç®¡ç†

### å–æ¶ˆæœªæˆäº¤è®¢å•

#### è§¦å‘æ—¶æœº
- æ¯æ¬¡å¾ªç¯å¼€å§‹å‰
- ä¹°å•è¶…æ—¶æœªæˆäº¤ï¼ˆ10ç§’ï¼‰
- ä½™é¢ä¸è¶³æ—¶ï¼ˆæŒ‚å•è¿‡å¤šï¼‰

#### å–æ¶ˆé€»è¾‘
```python
# main_new.py:316-361
def _cancel_orders(self) -> int:
    # 1. å‘å³æ»šåŠ¨è®¢å•è¡¨æ ¼
    self.browser.scroll_to("right", xpath=self.XPATH["order_table"])
    
    # 2. å°è¯•å¤šç§æ–¹å¼ç‚¹å‡»å–æ¶ˆæŒ‰é’®
    #    - è®¢å•è¡Œçš„å–æ¶ˆé“¾æ¥
    #    - å•ä¸ªè®¢å•å–æ¶ˆæŒ‰é’®
    #    - è¡¨å¤´çš„å–æ¶ˆå…¨éƒ¨æŒ‰é’®
    
    # 3. ç¡®è®¤å–æ¶ˆå¼¹çª—
    self.browser.click(self.XPATH["cancel_confirm"])
```

#### è¶…æ—¶å¤„ç†
```python
# main_new.py:509-540
# ä¹°å•æŒ‚å•åï¼Œç­‰å¾…10ç§’
if pending_count > 0:
    buy_filled = self._wait_for_buy_order_filled(
        max_wait=10,  # è¶…æ—¶æ—¶é—´
        check_interval=2  # æ£€æŸ¥é—´éš”
    )
    if not buy_filled:
        # è¶…æ—¶æœªæˆäº¤ï¼Œå–æ¶ˆæŒ‚å•
        self._cancel_orders()
```

---

## ğŸ’µ ä½™é¢ç®¡ç†

### ä½™é¢æ£€æŸ¥
```python
# main_new.py:396-441
required_balance = cost * 1.01  # éœ€è¦ä½™é¢ï¼ˆåŠ 1%ç¼“å†²ï¼‰

if balance < required_balance:
    # ä½™é¢ä¸è¶³å¤„ç†
    pending_count = self._get_pending_order_count()
    
    if pending_count > 0:
        # æœ‰æŒ‚å•ï¼Œç­‰å¾…æˆäº¤æˆ–å–æ¶ˆ
        if pending_count > 5 or insufficient_count >= 3:
            # æŒ‚å•å¤ªå¤šï¼Œç›´æ¥å–æ¶ˆ
            self._cancel_orders()
        else:
            # ç­‰å¾…å–å•æˆäº¤ï¼ˆæœ€å¤š15ç§’ï¼‰
            self._wait_for_sell_order_filled(max_wait=15)
```

### ä½™é¢ä¸è¶³å¤„ç†ç­–ç•¥

| æƒ…å†µ | å¤„ç†æ–¹å¼ |
|------|---------|
| æœ‰æŒ‚å• < 5ä¸ª | ç­‰å¾…æˆäº¤ï¼ˆæœ€å¤š15ç§’ï¼‰ |
| æœ‰æŒ‚å• â‰¥ 5ä¸ª | ç›´æ¥å–æ¶ˆæŒ‚å• |
| è¿ç»­å¤±è´¥ â‰¥ 3æ¬¡ | ç›´æ¥å–æ¶ˆæŒ‚å• |
| è¿ç»­å¤±è´¥ â‰¥ 5æ¬¡ | åˆ·æ–°é¡µé¢ |

---

## ğŸ” å…³é”®ä»£ç ä½ç½®

### ä¸»æµç¨‹
- **ä¸»å¾ªç¯**: `main_new.py:151` - `_main_loop()`
- **å–å‡ºé€»è¾‘**: `main_new.py:238` - `_execute_sell()`
- **ä¹°å…¥é€»è¾‘**: `main_new.py:363` - `_execute_buy()`
- **å–æ¶ˆè®¢å•**: `main_new.py:316` - `_cancel_orders()`

### é…ç½®
- **ä»·æ ¼é…ç½®**: `config.py:55` - `PriceConfig`
- **äº¤æ˜“é…ç½®**: `config.py:30` - `TradeConfig`

### å·¥å…·å‡½æ•°
- **æµè§ˆå™¨æ“ä½œ**: `browser_manager.py`
- **æ—¥å¿—è®°å½•**: `logger.py`
- **ç»Ÿè®¡è®°å½•**: `trade_stats.py`

---

## âš™ï¸ é…ç½®å‚æ•°è¯´æ˜

### ä»·æ ¼å‚æ•°
```python
BUY_PRICE_PERCENT = 1.0002   # ä¹°å…¥ä»·ä¸Šæµ® 0.02%
SELL_PRICE_PERCENT = 0.9998  # åå‘å–ä»·ä¸‹è°ƒ 0.02%
```

### äº¤æ˜“å‚æ•°
```python
TRADE_COST = 256            # å•æ¬¡äº¤æ˜“é¢ï¼ˆUSDTï¼‰
TOTAL_RUNS = 36             # æ€»æ‰§è¡Œæ¬¡æ•°
RESERVED_AMOUNT = 0         # ä¿ç•™å¸æ•°
MIN_SELL_AMOUNT = 1         # æœ€å°å–å‡ºæ•°é‡
```

### é—´éš”å‚æ•°
```python
REFRESH_INTERVAL = 5        # åˆ·æ–°é—´éš”ï¼ˆæ¯5æ¬¡å¾ªç¯ï¼‰
MIN_INTERVAL = 5            # æœ€å°ä¼‘æ¯é—´éš”ï¼ˆç§’ï¼‰
MAX_INTERVAL = 10           # æœ€å¤§ä¼‘æ¯é—´éš”ï¼ˆç§’ï¼‰
```

---

## ğŸ“ˆ æ‰§è¡Œæ•ˆæœ

### ç†æƒ³æƒ…å†µ
- âœ… æ¯æ¬¡å¾ªç¯å®Œæˆä¸€æ¬¡ä¹°å–
- âœ… åå‘è®¢å•è‡ªåŠ¨æˆäº¤
- âœ… ç£¨æŸæ¥è¿‘ 0%
- âœ… èµ„é‡‘å¿«é€Ÿå‘¨è½¬

### å®é™…æƒ…å†µ
- âš ï¸ è®¢å•å¯èƒ½è¶…æ—¶æœªæˆäº¤ï¼ˆè‡ªåŠ¨å–æ¶ˆï¼‰
- âš ï¸ ä½™é¢ä¸è¶³æ—¶éœ€è¦ç­‰å¾…æˆ–å–æ¶ˆæŒ‚å•
- âš ï¸ å¸‚åœºæ³¢åŠ¨å½±å“æˆäº¤é€Ÿåº¦
- âš ï¸ éœ€è¦å®šæœŸåˆ·æ–°é¡µé¢ä¿æŒè¿æ¥

---

## ğŸ“ æ€»ç»“

### æ ¸å¿ƒä¼˜åŠ¿
1. **è‡ªåŠ¨åŒ–**ï¼šæ— éœ€äººå·¥å¹²é¢„ï¼Œå…¨è‡ªåŠ¨æ‰§è¡Œ
2. **ä½ç£¨æŸ**ï¼šé€šè¿‡ä»·æ ¼ç­–ç•¥å’Œåå‘è®¢å•ï¼Œå®ç°æ¥è¿‘é›¶ç£¨æŸ
3. **æ™ºèƒ½ç®¡ç†**ï¼šè‡ªåŠ¨å¤„ç†è®¢å•è¶…æ—¶ã€ä½™é¢ä¸è¶³ç­‰æƒ…å†µ
4. **å¾ªç¯äº¤æ˜“**ï¼šé€šè¿‡åå‘è®¢å•å½¢æˆè‡ªåŠ¨å¾ªç¯é“¾

### æ³¨æ„äº‹é¡¹
1. **ä»·æ ¼æ³¢åŠ¨**ï¼šéœ€è¦å¸‚åœºæœ‰ä¸€å®šæ³¢åŠ¨æ‰èƒ½æˆäº¤
2. **è®¢å•ç®¡ç†**ï¼šè¶…æ—¶è®¢å•ä¼šè‡ªåŠ¨å–æ¶ˆï¼Œé¿å…èµ„é‡‘å ç”¨
3. **ä½™é¢ç®¡ç†**ï¼šéœ€è¦è¶³å¤Ÿçš„ä½™é¢æ”¯æŒå¾ªç¯äº¤æ˜“
4. **é¡µé¢ç¨³å®šæ€§**ï¼šéœ€è¦ä¿æŒæµè§ˆå™¨è¿æ¥ç¨³å®š

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**æœ€åæ›´æ–°**: 2025-11-30

